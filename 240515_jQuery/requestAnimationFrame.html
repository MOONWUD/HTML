<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>requestAnimationFrame</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
  
  <style>
    /* * {
      cursor: none;
    } */
    body {
      margin: 0;
      height: 100vh;
    }
    .emoji {
      background-color: rgba(196, 228, 255, 0.6);
      box-shadow:
      2px 2px 20px rgba(196, 228, 255, 0.8),
      -2px -2px 20px rgba(196, 228, 255, 0.8);
      padding: 8px;
      font-size: 2rem;
      border-radius: 50%;
      position: fixed;
      top: 20px;
      left: 20px;
      pointer-events: none;
      will-change: transform;
      /*
        will-change : cssë¡œ ì›¹ì‚¬ì´íŠ¸ ì„±ëŠ¥ í–¥ìƒ
         -> ì‹¤ì œë¡œ ìš”êµ¬ë˜ê¸° ì „ì— ë¯¸ë¦¬ ì¤€ë¹„í•˜ê³  ìˆë„ë¡ ë¸Œë¼ìš°ì €ì—ê²Œ ì•Œë¦¼
          autoê°€ ê¸°ë³¸ê°’.
          ìƒì† x
          scroll-position; ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ë°”ê¿ˆ
          contents; ì»¨í…ì¸  ë°”ê¿ˆ
          ê·¸ ì™¸ css ì†ì„± ì‚¬ìš© ê°€ëŠ¥
      */
    }

    /* .emoji:hover {
      transform: scale(1.1);
    } */
  </style>
  <script src="../assets/jquery-3.7.1.min.js"></script>
  <script src="../assets/jquery-ui.min.js"></script>
</head>

<body>
  <h1>window.requestAnimationFrame()</h1>
  <h2>í™”ë©´ì— í”„ë ˆì„ì´ ì‹¤í–‰ë˜ê¸° ì „ í•¨ìˆ˜ í˜¸ì¶œ</h2>
  <a href="https://developer.mozilla.org/ko/docs/Web/API/window/requestAnimationFrame" target="_blank">MDN</a>

  <div class="emoji">ğŸ</div>
  <script>
    /* 
      requestAnimationFrame(callback);
        ã„´ ì½œë°±í•¨ìˆ˜: ì• ë‹ˆë©”ë‹ˆì…˜ì„ ì—…ë°ì´íŠ¸ í•  ë•Œ í˜¸ì¶œí•  í•¨ìˆ˜
        ã„´ ë°˜í™˜ê°’ : ìš”ì²­ idì¸ long ì •ìˆ˜ ê°’(0ì´ ì•„ë‹Œ ê°’)
    */
    const emoji = document.querySelector('.emoji');
    $('.emoji');

    // ë§ˆìš°ìŠ¤ ì»¤ì„œ ì¢Œí‘œ
    let mouseX = 0;
    let mouseY = 0;

    // $(window).on('mousemove', () => {})
    addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
      console.log(mouseX, mouseY)
    })

    // ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ ë”°ë¼ ë‹¤ë‹ˆëŠ” ì´ëª¨ì§€ ì¢Œí‘œ
    let emojiX = 0;
    let emojiY = 0;

    // í˜¸ì¶œ
    const emojiMov = () => {
      requestAnimationFrame(emojiMov);// ì—°ì† í˜¸ì¶œ í•„ìš”. ë‹¤ìŒ í”„ë ˆì„ ìš”ì²­
      
      emojiX += (mouseX - emojiX) * 0.1;
      emojiY += (mouseY - emojiY) * 0.1;

      emoji.style.transform = `translate(${emojiX}px, ${emojiY}px)`;
    }

    emojiMov();
  </script>
</body>
</html>