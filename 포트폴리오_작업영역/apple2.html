<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>apple2</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
  
  <style>
  body, html{
    margin:0;
    width:100%;
    height:500vh;
    background-color:#000;
  }
  #container{
    width: 400px;
    height:400px;
    overflow: hidden;
    background-color:#000;
    position: fixed;
    left:0;
    right:0;
    top:0;
    bottom:0;
    margin: auto;
  }
  div{
    font-size:0px;
  }</style>
  <script src="../assets/jquery-3.7.1.min.js"></script>
  <script src="../assets/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TimelineMax.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/debug.addIndicators.js"></script>
  <script src="https://labs.nearpod.com/bodymovin/demo/bonsai/bodymovin.js"></script>
</head>

<body>
  <div id="trigger"></div>
<div id='container'></div>
  <script>
    var theWindow = $(window);
var winHeight = theWindow.height();
var animDuration = winHeight * 4;
var animData = {
        container: document.getElementById('container'),
        renderer: 'canvas',
        loop: false,
        autoplay: false,
        path: 'https://labs.nearpod.com/bodymovin/demo/bonsai/data.json'
    };
var anim = bodymovin.loadAnimation(animData);

$( window ).scroll(function() {
	animatebodymovin(animDuration, anim);
});

function animatebodymovin(duration, animObject) {
	
	var scrollPosition = theWindow.scrollTop();
	var maxFrames = animObject.totalFrames;
	var frame = (maxFrames / 100) * (scrollPosition / (duration / 100));
	
	animObject.goToAndStop(frame, true);
	
}
  </script>
</body>
</html>